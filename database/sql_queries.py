CREATE_USER_TABLE_QUERY = """
CREATE TABLE IF NOT EXISTS telegram_users
(
ID INTEGER PRIMARY KEY,
TELEGRAM_ID INTEGER,
USERNAME CHAR(50),
FIRST_NAME CHAR(50),
LAST_NAME CHAR(50),
REFERENCE_LINK TEXT,
UNIQUE (TELEGRAM_ID)
)
"""


ALTER_USER_TABLE = """
ALTER TABLE telegram_users ADD COLUMN REFERENCE_LINK TEXT
"""

СREATE_BAN_USER_TABLE_QUERY = """ 
CREATE TABLE IF NOT EXISTS ban_user
(
ID INTEGER PRIMARY KEY,
TELEGRAM_ID INTEGER,
BAN_COUNT INTEGER,
UNIQUE (TELEGRAM_ID)
)
"""


СREATE_HATER_TABLE_QUERY = """ 
CREATE TABLE IF NOT EXISTS hater_profile
(
ID INTEGER PRIMARY KEY,
OWNER_TELEGRAM_ID INTEGER,
HATER_TELEGRAM_ID INTEGER,
UNIQUE (OWNER_TELEGRAM_ID, HATER_TELEGRAM_ID)
)
"""



СREATE_LIKE_TABLE_QUERY = """ 
CREATE TABLE IF NOT EXISTS like_profile
(
ID INTEGER PRIMARY KEY,
OWNER_TELEGRAM_ID INTEGER,
LIKER_TELEGRAM_ID INTEGER,
UNIQUE (OWNER_TELEGRAM_ID, LIKER_TELEGRAM_ID)
)
"""



CREATE_PROFILE_TABLE_QUERY = """
CREATE TABLE IF NOT EXISTS profile
(
ID INTEGER PRIMARY KEY,
TELEGRAM_ID INTEGER,
NICKNAME CHAR(50),
BIOGRAPHY TEXT,
AGE INTEGER,
HOBBY TEXT,
CALL_NUMBER INTEGER,
EMAIL CHAR(50),
INSTRAGAM CHAR(50),
PHOTO TEXT,
UNIQUE (TELEGRAM_ID)
)
"""


CREATE_SURVEY_TABLE_QUERY = """
CREATE TABLE IF NOT EXISTS survey
(
ID INTEGER PRIMARY KEY,
TELEGRAM_ID INTEGER,
PROBLEMS TEXT,
IDEA TEXT
)
"""


CREATE_REFERRAL_USERS_TABLE_QUERY = """
CREATE TABLE IF NOT EXISTS referral_users
(
ID INTEGER PRIMARY KEY,
OWNER_TELEGRAM_ID INTEGER,
REFERRAL_TELEGRAM_ID INTEGER,
FIRST_NAME CHAR(50),
UNIQUE (REFERRAL_TELEGRAM_ID)
)
"""


INSERT_USER_QUERY = """
INSERT OR IGNORE INTO telegram_users VALUES (?,?,?,?,?,?)
"""

INSERT_PROFILE_QUERY = """
INSERT INTO profile VALUES (?,?,?,?,?,?,?,?,?,?)
"""

INSERT_NEW_BAN_USER_QUERY = """
INSERT INTO ban_user VALUES (?,?,?)
"""

INSERT_REFERRAL_USERS_QUERY = """
INSERT OR IGNORE INTO referral_users VALUES (?,?,?,?)
"""

ALTER_REFERRAL_NAME_TABLE = """
ALTER TABLE  referral_users ADD COLUMN FIRST_NAME  CHAR(50)
"""


INSERT_SURVEY_QUERY = """
INSERT OR IGNORE INTO survey VALUES (?,?,?,?)
"""


INSERT_LIKE_QUERY = """
INSERT INTO like_profile VALUES (?,?,?)
"""


INSERT_HATER_QUERY = """
INSERT INTO hater_profile VALUES (?,?,?)
"""


FILTER_LEFT_JOIN_PROFILE_LIKE_QUERY = """
SELECT * FROM profile
LEFT JOIN like_profile ON profile.TELEGRAM_ID = like_profile.OWNER_TELEGRAM_ID
AND like_profile.LIKER_TELEGRAM_ID = ?
WHERE like_profile.ID IS NULL
AND profile.TELEGRAM_ID != ?
"""

SELECT_BAN_USER_QUERY = """
SELECT * FROM ban_user WHERE TELEGRAM_ID = ?
"""


SELECT_PROFILE_QUERY = """
SELECT * FROM profile WHERE TELEGRAM_ID = ?
"""


UPDATE_BAN_USER_COUNT_QUERY = """
UPDATE ban_user SET BAN_COUNT = BAN_COUNT + 1 WHERE TELEGRAM_ID = ?
"""

SELECT_USER_QUERY = """
SELECT * FROM telegram_users WHERE TELEGRAM_ID = ?
"""


UPDATE_USER_LINK_QUERY = """
UPDATE telegram_users SET REFERENCE_LINK = ? WHERE TELEGRAM_ID = ?
"""


SELECT_USER_BY_LINK_QUERY = """
SELECT * FROM telegram_users WHERE REFERENCE_LINK = ?
"""

DOUBLE_SELECT_REFERRAL_USER_QUERY = """
SELECT
    COUNT(referral_users.ID) as total_referral
FROM
    telegram_users
LEFT JOIN
     referral_users ON telegram_users.TELEGRAM_ID = referral_users.OWNER_TELEGRAM_ID
WHERE
    telegram_users.TELEGRAM_ID = ? 

"""


SELECT_REFERRAL_QUERY = """
SELECT * FROM  referral_users WHERE OWNER_TELEGRAM_ID = ?
"""

